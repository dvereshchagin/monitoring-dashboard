replicaCount: 2

ha:
  enabled: true

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 60
  targetMemoryUtilizationPercentage: 75

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 256Mi

releaseAnalyzer:
  enabled: true
  interval: 20s

gateway:
  enabled: true
  replicaCount: 2
  ha:
    enabled: true
  podDisruptionBudget:
    enabled: true
    minAvailable: 1

podDisruptionBudget:
  enabled: true
  minAvailable: 1

config:
  DB_SSL_MODE: "require"
  METRICS_RETENTION_DAYS: "7"
  ALLOWED_ORIGINS: "https://dashboard.xyibank.ru"

externalSecrets:
  data:
    - secretKey: DB_HOST
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: DB_HOST
    - secretKey: DB_PORT
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: DB_PORT
    - secretKey: DB_USER
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: DB_USER
    - secretKey: DB_PASSWORD
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: DB_PASSWORD
    - secretKey: DB_NAME
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: DB_NAME
    - secretKey: AUTH_BEARER_TOKEN
      remoteRef:
        key: /monitoring-dashboard/prod/app
        property: AUTH_BEARER_TOKEN

ingress:
  hosts:
    - host: dashboard.xyibank.ru
      paths:
        - path: /api/v1/release-analyzer
          pathType: Prefix
          useGateway: true
        - path: /api/v1
          pathType: Prefix
          useGateway: true
        - path: /api
          pathType: Prefix
          useGateway: true
        - path: /ws
          pathType: Prefix
          useGateway: true
        - path: /
          pathType: Prefix
